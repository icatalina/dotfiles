# vim: syntax=sh filetype=sh
export BASE16_SHELL="$HOME/.dotfiles/zsh/base16-shell/base16-default.dark.sh"
if [[ -s $BASE16_SHELL ]]; then
  source $BASE16_SHELL
fi

stty sane

# Specify your defaults in this environment variable
export HOMEBREW_CASK_OPTS="--appdir=/Applications"

# Joins a string using a multicharacter delimiter, use: $ joinstr ', ' hello world "how are you"
joinstr() {
  local IFS='¬'
  local delim=$1
  shift 1
  echo "${*//¬/$delim}"
}

# Extracts a set of columns, use: $ ls -la | awkc 1 2 5
awkc () {
  awk "{print $`joinstr '"	"$' $@`}" | column -s "	" -t
}

# Executes a command using xargs adding the param at the end
# Use ls | xxargs file
xxargs () { xargs -i $@ "{}" }

if !hash pwdx 2>/dev/null; then
  pwdx () {
    if [ $# -ne 1 ]; then
      echo "You need to specifiy at least one PID"
      return 1
    fi
    if ! lsof -a -d cwd -n -p "$@"; then
      echo "PID not running"
    fi
  }
fi

alias pipekill='awk "{print \$1}" | xargs kill -9'

## alias gdf='cdiff -w0 -s'
alias g='git'
alias gs='git st --'
alias gl='git log --'
alias gls='git ls --'
alias glss='git lss --'
alias gc='git commit --'
alias gaa='git add -A -- .'
alias ga='git add --'
alias aliasg='alias | grep git'
alias gdfw='git dfw'
alias gdf='git df'
alias gch='git checkout'
alias gr='git reset'

alias ng="npm list -g --depth=0 2>/dev/null"
alias nl="npm list --depth=0 2>/dev/null"

alias cask="brew cask"
alias ll='ls -gA1GhF --group-directories-first --color'
alias ve='source virtualenv/bin/activate'
alias pm='python3 manage.py'
alias pt='python3 test.py'
alias eject='diskutil unmountDisk'

## alias tmux='tmux a || tmux new'
alias mvim='open -a MacVim'
alias b16='source $BASE16_SHELL'
alias filesWithSpaces="grep -Rc '^     ' . | grep -v ':0$' | sort -t':' -n -k2"

## If nvim is available, alias it to vim
if hash nvim 2>/dev/null; then
  alias vim=$(which nvim)
fi

